var b=Object.defineProperty,it=Object.defineProperties;var ct=Object.getOwnPropertyDescriptors;var V=Object.getOwnPropertySymbols;var pt=Object.prototype.hasOwnProperty,At=Object.prototype.propertyIsEnumerable;var w=(t,e,r)=>e in t?b(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,l=(t,e)=>{for(var r in e||(e={}))pt.call(e,r)&&w(t,r,e[r]);if(V)for(var r of V(e))At.call(e,r)&&w(t,r,e[r]);return t},M=(t,e)=>it(t,ct(e));var n=(t,e)=>b(t,"name",{value:e,configurable:!0});import*as T from"react";import dt from"@aws-amplify/auth";import{Hub as F}from"@aws-amplify/core";import{useEffect as ut,useState as Tt}from"react";var Xt=n(()=>{let[t,e]=Tt({error:void 0,isLoading:!0,user:void 0}),r=n(({payload:a})=>{switch(a.event){case"signIn":return e({user:a.data,isLoading:!1});case"signOut":return e({isLoading:!1});default:break}},"handleAuth"),o=n(()=>(e({isLoading:!0}),dt.currentAuthenticatedUser().then(a=>e({user:a,isLoading:!1})).catch(a=>e({error:a,isLoading:!1})),F.listen("auth",r),()=>F.remove("auth",r)),"fetch");return ut(o,[]),M(l({},t),{fetch:o})},"useAuth");import{DataStore as Y}from"@aws-amplify/datastore";import{useEffect as k,useState as D}from"react";var lt=n(({model:t,criteria:e,pagination:r})=>{let[o,a]=D({items:[],isLoading:!1,error:void 0});return k(n(()=>{a({isLoading:!0,items:[]});let i=Y.observeQuery(t,e,r).subscribe(A=>a({items:A.items,isLoading:!1}),A=>a({items:[],error:A,isLoading:!1}));if(i)return()=>i.unsubscribe()},"fetch"),[]),o},"useDataStoreCollection"),Et=n(({model:t,id:e})=>{let[r,o]=D(),[a,s]=D(!1),[i,A]=D();return k(n(()=>{s(!0),Y.query(t,e).then(o).catch(A).finally(()=>s(!1))},"fetch"),[]),{error:i,item:r,isLoading:a}},"useDataStoreItem");function oe(t){return t.type==="record"?Et(t):lt(t)}n(oe,"useDataStoreBinding");import{Storage as G}from"@aws-amplify/storage";import{useEffect as St,useState as Ot}from"react";var ce=n((t,e)=>{let[r,o]=Ot({isLoading:!0}),a=JSON.stringify(e),s=n(()=>{o({isLoading:!0});let i=G.get(t,e);return i.then(A=>o({url:A,isLoading:!1})).catch(A=>o({error:A,isLoading:!1})),()=>G.cancel(i)},"fetch");return St(s,[t,a]),M(l({},r),{fetch:s})},"useStorageURL");import{Auth as Pt,Hub as L}from"aws-amplify";var c="ui",C="actions",_t="auth",mt="datastore",ft="core",It="signout",gt="navigate",Nt="create",Mt="delete",Dt="update",xt="statemutation",S="started",O="finished",Ct=`${C}:${_t}`,_=`${Ct}:${It}`,j=`${_}:${S}`,R=`${_}:${O}`,B=`${C}:${ft}`,g=`${B}:${xt}`,W=`${g}:${S}`,q=`${g}:${O}`,N=`${B}:${gt}`,Q=`${N}:${S}`,J=`${N}:${O}`,h=`${C}:${mt}`,m=`${h}:${Nt}`,z=`${m}:${S}`,P=`${m}:${O}`,f=`${h}:${Mt}`,K=`${f}:${S}`,U=`${f}:${O}`,I=`${h}:${Dt}`,X=`${I}:${S}`,y=`${I}:${O}`,Z="Error querying datastore item by id";var Rt=n(t=>typeof t=="object"&&t!==null&&"message"in t&&typeof t.message=="string","isErrorWithMessage"),ht=n(t=>{if(Rt(t))return t;try{return new Error(JSON.stringify(t))}catch{return new Error(String(t))}},"toErrorWithMessage"),E=n(t=>ht(t).message,"getErrorMessage");var p=typeof Symbol!="undefined"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default";var Ut=n(t=>async()=>{try{L.dispatch(c,{event:j,data:{options:t}},_,p),await Pt.signOut(t),L.dispatch(c,{event:R,data:{options:t}},_,p)}catch(e){L.dispatch(c,{event:R,data:{options:t,errorMessage:E(e)}},_,p)}},"useAuthSignOutAction");import*as tt from"react";import{Hub as et}from"aws-amplify";var yt="noopener noreferrer",Lt="_self",Ht=n(t=>{let{type:e,url:r,anchor:o,target:a}=t,s=tt.useMemo(()=>{switch(e){case"url":return()=>{window.open(r,a||Lt,yt)};case"anchor":return()=>{window.location.hash=o};case"reload":return()=>{window.location.reload()};default:return()=>{console.warn('Please provide a valid navigate type. Available types are "url", "anchor" and "reload".')}}},[o,a,e,r]);return n(()=>{et.dispatch(c,{event:Q,data:t},N,p),s(),et.dispatch(c,{event:J,data:t},N,p)},"navigateAction")},"useNavigateAction");import*as x from"react";import{Hub as rt}from"aws-amplify";var vt=n(t=>{let[e,r]=x.useState(t),o=x.useCallback(a=>{let s=e;rt.dispatch(c,{event:W,data:{prevState:s,newState:a}},g,p),r(a),rt.dispatch(c,{event:q,data:{prevState:s,newState:a}},g,p)},[e]);return[e,o]},"useStateMutationAction");import{DataStore as $t,Hub as H}from"aws-amplify";var bt=n(({model:t,fields:e})=>async()=>{try{H.dispatch(c,{event:z,data:{fields:e}},m,p);let r=await $t.save(new t(e));H.dispatch(c,{event:P,data:{fields:e,item:r}},m,p)}catch(r){H.dispatch(c,{event:P,data:{fields:e,errorMessage:E(r)}},m,p)}},"useDataStoreCreateAction");import{DataStore as Vt,Hub as v}from"aws-amplify";var wt=n(({model:t,id:e})=>async()=>{try{v.dispatch(c,{event:K,data:{id:e}},f,p),await Vt.delete(t,e),v.dispatch(c,{event:U,data:{id:e}},f,p)}catch(r){v.dispatch(c,{event:U,data:{id:e,errorMessage:E(r)}},f,p)}},"useDataStoreDeleteAction");import{DataStore as ot,Hub as $}from"aws-amplify";var Ft=n(({model:t,id:e,fields:r})=>async()=>{try{$.dispatch(c,{event:X,data:{fields:r,id:e}},I,p);let o=await ot.query(t,e);if(!o)throw new Error(`${Z}: ${e}`);let a=await ot.save(t.copyOf(o,s=>{Object.assign(s,r)}));$.dispatch(c,{event:y,data:{fields:r,id:e,item:a}},I,p)}catch(o){$.dispatch(c,{event:y,data:{fields:r,id:e,errorMessage:E(o)}},I,p)}},"useDataStoreUpdateAction");import{useId as ke}from"@radix-ui/react-id";var nt=n(t=>typeof t=="function","isFunction");var Yt=n((t,e)=>{if(!t)return null;let r=Object.entries(t).filter(o=>o[0].startsWith(e));return Object.assign({},...Array.from(r,([o,a])=>({[o.replace(e,"")]:a})))},"findChildOverrides"),kt=n((t,e)=>{if(!t)return null;let r=Object.entries(t).filter(([o])=>o===e).flatMap(([,o])=>Object.entries(o)).filter(o=>o==null?void 0:o[0]);return Object.fromEntries(r)},"getOverrideProps");function Gt(t,e){let r=[...new Set(t.flatMap(s=>Object.keys(s.variantValues)))],o=Object.keys(e).filter(s=>r.includes(s)&&e[s]).reduce((s,i)=>(s[i]=e[i],s),{});return t.filter(({variantValues:s})=>Object.keys(s).length===Object.keys(o).length&&Object.entries(s).every(([i,A])=>o[i]===A)).reduce((s,i)=>l(l({},s),i.overrides),{})}n(Gt,"getOverridesFromVariants");var jt=n((t,e)=>{if(!t&&!e)return null;if(!e)return t;if(!t)return e;let r=new Set(Object.keys(e)),o=Object.keys(t).filter(s=>r.has(s)),a=Object.fromEntries(o.map(s=>[s,l(l({},t[s]),e[s])]));return l(l(l({},t),e),a)},"mergeVariantsAndOverrides");var st=n(t=>t.reduce((e,r)=>o=>r(e(o)),e=>e),"mergePredicates"),at=n(t=>{let{and:e,or:r,field:o,operator:a,operand:s}=t;if(Array.isArray(e)){let i=e.map(A=>at(A));return A=>A.and(st(i))}else if(Array.isArray(r)){let i=r.map(A=>at(A));return A=>A.or(st(i))}return i=>nt(i[o])?i[o].call(i,a,s):i},"createDataStorePredicate");export{at as createDataStorePredicate,Yt as findChildOverrides,kt as getOverrideProps,Gt as getOverridesFromVariants,jt as mergeVariantsAndOverrides,Xt as useAuth,Ut as useAuthSignOutAction,oe as useDataStoreBinding,lt as useDataStoreCollection,bt as useDataStoreCreateAction,wt as useDataStoreDeleteAction,Et as useDataStoreItem,Ft as useDataStoreUpdateAction,Ht as useNavigateAction,vt as useStateMutationAction,ce as useStorageURL};
//# sourceMappingURL=internal.js.map